<!DOCTYPE html>
<html>
    <head>
        
        <!-- Title -->
        <title>Schneider Electric | SCADA</title>
        
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <meta charset="UTF-8">
        <meta name="description" content="Smart Factory Expo Dashboard" />
        <meta name="keywords" content="Scada,Sanjay Pradhan" />
        <meta name="author" content="Sanjay Pradhan" />
        
        <!-- Styles -->
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>
        <link href="assets/plugins/pace-master/themes/blue/pace-theme-flash.css" rel="stylesheet"/>
        <link href="assets/plugins/uniform/css/uniform.default.min.css" rel="stylesheet"/>
        <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/fontawesome/css/font-awesome.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/line-icons/simple-line-icons.css" rel="stylesheet" type="text/css"/>	
        <link href="assets/plugins/offcanvasmenueffects/css/menu_cornerbox.css" rel="stylesheet" type="text/css"/>	
        <link href="assets/plugins/waves/waves.min.css" rel="stylesheet" type="text/css"/>	
        <link href="assets/plugins/switchery/switchery.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/3d-bold-navigation/css/style.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/slidepushmenus/css/component.css" rel="stylesheet" type="text/css"/>	
        <link href="assets/plugins/weather-icons-master/css/weather-icons.min.css" rel="stylesheet" type="text/css"/>	
        <link href="assets/plugins/metrojs/MetroJs.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/ion.rangeslider/css/ion.rangeSlider.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/ion.rangeslider/css/ion.rangeSlider.skinFlat.css" rel="stylesheet" type="text/css"/>	
        <link href="assets/plugins/toastr/toastr.min.css" rel="stylesheet" type="text/css"/>	
        	
        <!-- Theme Styles -->
        <link href="assets/stylesheets/modern.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/stylesheets/custom.css" rel="stylesheet" type="text/css"/>
        <script src="/socket.io/socket.io.js"></script>
          
        <script src="assets/plugins/3d-bold-navigation/js/modernizr.js"></script>
        <script src="assets/plugins/offcanvasmenueffects/js/snap.svg-min.js"></script>
        
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        
    </head>
    <body class="page-header-fixed">
        <div class="overlay"></div>
        <main class="page-content content-wrap">

            <div class="page-inner">
                <div class="page-title">
                    <h3>Mono Depositor - Universal 3DX Dashboard</h3>
                    <div class="page-breadcrumb">
                        <ol class="breadcrumb">
                            <li id="serialNo" class="active">SN34593048530</li>
                            <li class="active">Brighton, UK</li>
                        </ol>
                    </div>
                </div>
                <div id="main-wrapper">
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="panel info-box panel-dark">
                                <div class="panel-body">
                                    <div class="info-box-stats">
                                        <p class="counter">120</p>
                                        <span class="info-box-title">Avg Temperature this month </span>
                                    </div>
                                    <div class="info-box-icon">
                                        <i class="icon-power"></i>
                                    </div>
                                    <div class="info-box-progress">
                                        <div class="progress progress-xs progress-squared bs-n">
                                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="panel info-box panel-dark">
                                <div class="panel-body">
                                    <div class="info-box-stats">
                                        <p class="counter">40</p>
                                        <span class="info-box-title">Warning errors this month</span>
                                    </div>
                                    <div class="info-box-icon">
                                        <i class="icon-eye"></i>
                                    </div>
                                    <div class="info-box-progress">
                                        <div class="progress progress-xs progress-squared bs-n">
                                            <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="panel info-box panel-dark">
                                <div class="panel-body">
                                    <div class="info-box-stats">
                                        <p><span class="counter">504</span></p>
                                        <span class="info-box-title">Hours Uptime</span>
                                    </div>
                                    <div class="info-box-icon">
                                        <i class="icon-info"></i>
                                    </div>
                                    <div class="info-box-progress">
                                        <div class="progress progress-xs progress-squared bs-n">
                                            <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="panel info-box panel-dark">
                                <div class="panel-body">
                                    <div class="info-box-stats">
                                        <p class="counter">10</p>
                                        <span class="info-box-title">Catastrophic errors this month</span>
                                    </div>
                                    <div class="info-box-icon">
                                        <i class="icon-envelope"></i>
                                    </div>
                                    <div class="info-box-progress">
                                        <div class="progress progress-xs progress-squared bs-n">
                                            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" style="width: 50%">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><!-- Row -->
                    <div class="row">
                        <div class="col-lg-9 col-md-12">
                            <div class="panel panel-dark">
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="visitors-chart">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">Actual vs Historical Baseline</h4>
                                            </div>
                                            <div class="panel-body">
                                                <div id="flotchart1"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="stats-info">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">Mono Diagnostic</h4>
                                            </div>
                                            <div class="panel-body">
                                                <ul class="list-unstyled">
                                                    <li>Track Belt<div class="text-success pull-right">96%<i class="fa fa-level-up"></i></div></li>
                                                    <li>Track Bearings<div class="text-success pull-right">99%<i class="fa fa-level-up"></i></div></li>
                                                    <li>Water Level<div class="text-success pull-right">98%<i class="fa fa-level-up"></i></div></li>
                                                    <li>Mixture Temp<div class="text-danger pull-right">29 C<i class="fa fa-level-down"></i></div></li>
                                                    <li>Cooling System<div class="text-danger pull-right">45%<i class="fa fa-level-down"></i></div></li>
                                                    <li>Compression System<div class="text-success pull-right">99%<i class="fa fa-level-up"></i></div></li>
                                                    <li>Cleaning System<div class="text-success pull-right">98%<i class="fa fa-level-up"></i></div></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="panel panel-dark" style="height: 100%;">
                                <div class="panel-heading">
                                    <h4 class="panel-title">Output</h4>
                                    <div class="panel-control">
                                        <a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" title="Expand/Collapse" class="panel-collapse"><i class="icon-arrow-down"></i></a>
                                        <a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" title="Reload" class="panel-reload"><i class="icon-reload"></i></a>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div class="server-load">
                                        <div class="server-stat">
                                            <span>Total Capacity units/per hour</span>
                                            <p>4,700</p>
                                        </div>
                                        <div class="server-stat">
                                            <span>Avg units/per hour</span>
                                            <p>4,500</p>
                                        </div>
                                        <div class="server-stat">
                                            <span>Predicted Output</span>
                                            <p>98%</p>
                                        </div>
                                    </div>
                                    <div id="flotchart2"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-9 col-md-2">
                            <div class="panel panel-dark">
                                <div class="panel-heading">
                                    <h4 class="panel-title"></h4>
                                    <div class="panel-control">
                                        <a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" title="Reload" class="panel-reload"><i class="icon-reload"></i></a>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div class="weather-widget">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="weather-top">
                                                    <div class="weather-current pull-left">
                                                        <i class="wi"></i>
                                                        <!--<p><span>135<sup>&deg;C</sup></span></p>-->
                                                    </div>
                                                    <h2 class="weather-day pull-right">Mono Telematics<br><small><b>As of today 11am</b></small></h2>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <ul class="list-unstyled weather-info">
                                                    <li>Top Shelf Capacity <span class="pull-right"><b>80%</b></span></li>
                                                    <li>Fan Speed <span class="pull-right"><b>980 rpm</b></span></li>
                                                    <li>Top Shelf Temp <span class="pull-right"><b>140° C</b></span></li>
                                                    <li>Humidity <span class="pull-right"><b>10.34 in</b></span></li>
                                                    <li>Filter Degradation <span class="pull-right"><b>10%</b></span></li>
                                                </ul>
                                            </div>
                                            <div class="col-md-6">
                                                <ul class="list-unstyled weather-info">
                                                    <li>Bottom Shelf Capacity <span class="pull-right"><b>60%</b></span></li>
                                                    <li>Fan Speed <span class="pull-right"><b>680 rpm</b></span></li>
                                                    <li>Bottom Shelf Temp <span class="pull-right"><b>120° C</b></span></li>
                                                    <li>Bottom Shelf Humidity <span class="pull-right"><b>12.34 in</b></span></li>
                                                    <li>Filter Degradation <span class="pull-right"><b>78%</b></span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="panel twitter-box">
                                <div class="panel-body">
                                    <div class="live-tile" data-mode="flip" data-speed="750" data-delay="3000">
                                        <span class="tile-title pull-right">New Alerts</span>
                                        <i class="icon-info"></i>
                                        <div><h2 class="no-m">Heat sync approaching maximum threshold (85%) </h2><span class="tile-date">Today at 06:45 am </span></div>
                                        <div><h2 class="no-m">Belt drive error code ERR 255</h2><span class="tile-date">Today at 08.30 am</span></div>
                                    </div>
                                </div>
                            </div>    
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="panel">
                                <div class="panel-body">
                                     <div class="form-group">
                                            <label for="input-Default" class="col-sm-2 control-label"><b>Temperature</b><span class="text-muted f-s-12 clearfix"></span></label>
                                            <div class="col-sm-12">
                                                <input type="text" id="range_02">                                                
                                            </div>
                                            <div class="col-sm-12 text-center">
                                                <button id="btnDanger" type="button" class="btn btn-danger btn-sm"><i class="fa"></i> Danger</button>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12">
                            <div class="panel panel-dark">
                                <div class="panel-heading">
                                    <h4 class="panel-title">Issue Log</h4>
                                </div>
                                <div class="panel-body">
                                    <div class="table-responsive project-stats">  
                                       <table class="table">
                                           <thead>
                                               <tr>
                                                   <th>#</th>
                                                   <th>Salesforce Case Subject</th>
                                                   <th>Case ID</th>
                                                   <th>Status</th>
                                                   <th>SLA</th>
                                                   <th>Url</th>
                                               </tr>
                                           </thead>
                                           <tbody id="messages">
                                                <!--
                                                <tr>
                                                    <th scope="row">327</th>
                                                    <td>Wonderwear Power Inverter</td>
                                                    <td><span class="label label-primary">In Progress</span></td>
                                                    <td>Sandra Smith</td>
                                                    <td>
                                                        <a href="https://smartexpo.lightning.force.com/sObject/5001r00001v1Yh4AAE/view">View Details</a>
                                                        </td>
                                                </tr>
                                                -->                                              
                                           </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- Main Wrapper -->
                <div class="page-footer">
                    <p class="no-s">2018 &copy; SCADA by Heroku.</p>
                </div>
            </div><!-- Page Inner -->
        </main><!-- Page Content -->

        <div class="cd-overlay"></div>
	

        <!-- Javascripts -->
        <script src="assets/plugins/jquery/jquery-2.1.4.min.js"></script>
        <script src="assets/plugins/jquery-ui/jquery-ui.min.js"></script>
        <script src="assets/plugins/pace-master/pace.min.js"></script>
        <script src="assets/plugins/jquery-blockui/jquery.blockui.js"></script>
        <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
        <script src="assets/plugins/jquery-slimscroll/jquery.slimscroll.min.js"></script>
        <script src="assets/plugins/switchery/switchery.min.js"></script>
        <script src="assets/plugins/uniform/jquery.uniform.min.js"></script>
        <script src="assets/plugins/offcanvasmenueffects/js/classie.js"></script>
        <script src="assets/plugins/offcanvasmenueffects/js/main.js"></script>
        <script src="assets/plugins/waves/waves.min.js"></script>
        <script src="assets/plugins/3d-bold-navigation/js/main.js"></script>
        <script src="assets/plugins/waypoints/jquery.waypoints.min.js"></script>
        <script src="assets/plugins/jquery-counterup/jquery.counterup.min.js"></script>
        <script src="assets/plugins/toastr/toastr.min.js"></script>
        <script src="assets/plugins/flot/jquery.flot.min.js"></script>
        <script src="assets/plugins/flot/jquery.flot.time.min.js"></script>
        <script src="assets/plugins/flot/jquery.flot.symbol.min.js"></script>
        <script src="assets/plugins/flot/jquery.flot.resize.min.js"></script>
        <script src="assets/plugins/flot/jquery.flot.tooltip.min.js"></script>
        <script src="assets/plugins/curvedlines/curvedLines.js"></script>
        <script src="assets/plugins/metrojs/MetroJs.min.js"></script>
        <script src="assets/plugins/ion.rangeslider/js/ion-rangeSlider/ion.rangeSlider.min.js"></script > 
        <!--<script src="assets/scripts/modern.min.js"></script>-->
        <script src="assets/scripts/pages/dashboard.js"></script>
      
        <script src="assets/scripts/pages/ui-sliders.js"></script>

        <script type="text/javascript">			
			var socket = io();
			socket.on('event-processed', function (data) {
				var results = JSON.parse(data);
				console.log(results);	
                console.log('SKP :: SORTED');	
                var replayId = results['event']['replayId'];					  
				console.log(replayId);
                var caseId = results['payload']['case_id__c'];
                console.log(caseId);
                var serialNo = results['payload']['serial_number__c']
                console.log(serialNo);
                var subject = results['payload']['case_subject__c']
                console.log(subject);
                var status = results['payload']['case_status__c']
                console.log(status);
                var sla = results['payload']['sla__c']
                console.log(sla);
                var url = 'https://smartexpo.lightning.force.com/one/one.app#/sObject/' + caseId + '/view';
                console.log(url);

                if(serialNo == 'SN34593048530'){
                        console.log(serialNo);
                        var newPlatformEvent = ' <tr>' +
                                            '     <th scope="row">' + replayId + '</th>' +
                                            '     <td>' + subject + '</td>' +
                                            '     <td>' + caseId + '</td>' +
                                            '     <td><span class="label label-primary">' + status + '</span></td>' +
                                            '     <td>' + sla + '</td>' +
                                            '     <td> ' +
                                            '         <a href=' + url +'>View Details</a>' +
                                            '     </td> ' +
                                            ' </tr> ';
            
                        $(newPlatformEvent).appendTo('#messages').hide().slideDown();
                }
					  
			});

        </script>    
        
    </body>
</html>